
%form{action: '/leaders', method: 'POST'}
  %fieldset
    .columns
      .column
        %h2.title Manage Leaders
        %p
          In this section, you can manage information for everyone who has filled out the
          %a{href: "#{ENV['HUB_LEADER_FORM']}", target: '_blank'} hub leader form
          for #{@hub['Name']}&mdash;in particular, you can confirm leaders are still part of the hub and have the correct roles, names, and emails.
        %br
        %p
          For our initial beta-test of this system, we are not yet supporting
          fully featured editing (e.g. of roles and other
          information we collect in the leader form). However, if you need to edit other information, you can just remove the leader below and re-add them using the external form.
        %br
        %a.button.is-warning{href: ENV['HUB_LEADER_FORM']} Add New Leader
        %br
        %br
        %table.table.is-bordered.is-striped.is-fullwidth.is-responsive
          %thead
            %tr
              %th First Name
              %th Last Name
              %th Email
              %th Roles
              %th Remove?
          %tbody
            - @hub.leaders.each do |lead|
              %tr
                %td= lead['First Name']
                //%input.input.is-small{name: "leaders[#{lead.id}][First Name]", value: lead['First Name']}
                %td= lead['Last Name']
                //%input.input.is-small{name: "leaders[#{lead.id}][Last Name]", value: lead['Last Name']}
                %td= lead['Email']
                //%input.input.is-small{name: "leaders[#{lead.id}][Email]", value: lead['Email'], type: 'email'}
                %td
                  - (lead['Role'] || []).each do |role|
                    %span.tag= role.gsub(' - Self Describe In Next Field', '')
                %td
                  %label.checkbox
                    %input{type: 'checkbox', name: "leaders[#{lead.id}][Activity?]", checked: lead['Activity?']}
                    Remove from list

  %br
  %input.button.is-warning{type: 'submit', value: 'Update Leader Information'}
